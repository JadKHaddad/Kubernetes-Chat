<template>
  <!--
      <li>
            <div class="message-left">
              <div class="message-container message-has-img">
                <div class="message-img-container">
                  <img
                    src="https://assets.digitalocean.com/articles/alligator/css/object-fit/example-object-fit.jpg"
                    alt=""
                  />
                </div>

                <div class="message-text-container">
                  <div class="message-text">
                    text text text text text text text text text text text text
                    text text text text text text text text text text text text
                    text text text text text text text text text text text text
                    text text text
                  </div>
                  <div class="message-info">
                    <div class="message-date">18:90:12</div>
                    <span uk-icon="icon: check; ratio: 1.2"></span>
                  </div>
                  <div class="uk-inline action-menu-container">
                    <span uk-icon="chevron-down"></span>
                    <div class="action-list-drop" uk-drop="mode: click">
                      <div class="action-list-container">
                        <ul class="uk-list action-list">
                          <li class="action-item">Like</li>
                          <li class="action-item">Dislike</li>
                          <li class="action-item">reply</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li>
            <div class="message-right">
              <div class="message-container">
                <div class="message-text-container">
                  <div class="message-text">
                    Hi man wasssas p man lest go i want to seee how it ies
                    kjkjasd kasoie wqeo asdkj weqoejqweqwe!
                  </div>

                  <div class="message-info">
                    <div class="message-date">18:90:12</div>
                    <span uk-icon="icon: check; ratio: 1.2"></span>
                  </div>

                  <div class="uk-inline action-menu-container">
                    <span uk-icon="chevron-down"></span>
                    <div class="action-list-drop" uk-drop="mode: click">
                      <div class="action-list-container">
                        <ul class="uk-list action-list">
                          <li class="action-item">Like</li>
                          <li class="action-item">Dislike</li>
                          <li class="action-item">reply</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
    <li>
    <div class="message-left">
      <div class="message-container-left">
        <div class="message-text-container">
          <div class="message-text">
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
          </div>
          <div class="message-info">
            <div class="message-date">18:90:12</div>
            <span uk-icon="icon: check; ratio: 1.2"></span>
          </div>
          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
  <li>
    <div class="message-left">
      <div class="message-container-left message-has-img">
        <div class="message-img-container">
          <img
            src="https://assets.digitalocean.com/articles/alligator/css/object-fit/example-object-fit.jpg"
            alt=""
          />
        </div>

        <div class="message-text-container">
          <div class="message-text">
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
          </div>
          <div class="message-info">
            <div class="message-date">18:90:12</div>
            <span uk-icon="icon: check; ratio: 1.2"></span>
          </div>
          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
  <li>
    <div class="message-right">
      <div class="message-container-right">
        <div class="message-text-container">
          <div class="message-text">
            Hi man wasssas p man lest go i want to seee how it ies kjkjasd
            kasoie wqeo asdkj weqoejqweqwe!
          </div>

          <div class="message-info">
            <div class="message-date">18:90:12</div>
            <span uk-icon="icon: check; ratio: 1.2"></span>
          </div>

          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
  <li>
    <div class="message-right">
      <div class="message-container-right message-has-img">
        <div class="message-img-container">
          <img
            src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8Mnx8fGVufDB8fHx8&w=1000&q=80"
            alt=""
          />
        </div>
        <div class="message-text-container">
          <div class="message-text">
            Hi man wasssas p man lest go i want to seee how it ies kjkjasd
            kasoie wqeo asdkj weqoejqweqwe!
          </div>

          <div class="message-info">
            <div class="message-date">18:90:12</div>
            <span uk-icon="icon: check; ratio: 1.2"></span>
          </div>
          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
  <li>
    <div class="message-left">
      <div class="message-container-left message-has-img">
        <div class="message-img-container">
          <img src="https://cdn.wallpapersafari.com/80/94/3kEq8V.jpeg" alt="" />
        </div>

        <div class="message-text-container">
          <div class="message-text">
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
            text text text text text text text text text text text text text
          </div>
          <div class="message-info">
            <div class="message-date">18:90:12</div>
            <span uk-icon="icon: check; ratio: 1.2"></span>
          </div>
          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>-->
  <li>
    <div :class="[message.received ? 'message-left' : 'message-right']">
      <div class="message-container" :class="{'message-has-img': message.type == 'img'}">
        <div v-if="message.type == 'img'" class="message-img-container">
          <img
            :src="message.imagePath"
            alt=""
          />
        </div>
        <div class="message-text-container">
          <div class="message-text">
            {{ message.text_content }}
          </div>
          <div class="message-info">
            <div class="message-date">{{ message.date }}</div>
            <span v-if="message.delivered" uk-icon="icon: check; ratio: 1.2"></span>
          </div>
          <div class="uk-inline action-menu-container">
            <span uk-icon="chevron-down"></span>
            <div class="action-list-drop" uk-drop="mode: click" ref="action-list-drop">
              <div class="action-list-container">
                <ul class="uk-list action-list">
                  <li class="action-item" @click="like(message.id)">Like</li>
                  <li class="action-item">Dislike</li>
                  <li class="action-item">reply</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="message-like-container">
        <div v-if="message.like" class="message-like">
          <span uk-icon="heart"></span>
        </div>
        <div v-if="message.self_like" class="message-self-like">
          <span uk-icon="heart"></span>
        </div>
      </div>
    </div>
    
  </li>
</template>

<script>
export default {
  name: "Message",
  props: ["message"],
  data() {
    return {};
  },
  methods: {
    hideDropDown(){
      UIkit.drop(this.$refs["action-list-drop"]).hide(0);
    },
    like(id){
      this.$root.likeMessage(id);
      this.hideDropDown();
    }
  },
  created() {
    console.log(this.message);
  },
};
</script>

<style>
</style>